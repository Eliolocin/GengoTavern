import React, { useState, useEffect } from 'react';
import MarkdownRenderer from './MarkdownRenderer';
import { setupModalBackButtonHandler } from '../../utils/modalBackButtonHandler';


interface HelpModalProps {
  onClose: () => void;
  onHideAtStartupChange?: (hideAtStartup: boolean) => void;
  initialHideAtStartup?: boolean;
}

const HelpModal: React.FC<HelpModalProps> = ({ 
  onClose, 
  onHideAtStartupChange,
  initialHideAtStartup = false 
}) => {
  const [hideAtStartup, setHideAtStartup] = useState(initialHideAtStartup);

  // Add useEffect for back button handling
  useEffect(() => {
    // Set up back button handler
    const cleanup = setupModalBackButtonHandler(onClose);
    
    // Cleanup when component unmounts
    return cleanup;
  }, [onClose]);

  const handleHideAtStartupChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const newValue = e.target.checked;
    setHideAtStartup(newValue);
    if (onHideAtStartupChange) {
      onHideAtStartupChange(newValue);
    }
  };

  const helpContent = `
## Welcome to GengoTavern!

GengoTavern is a (beta) chat application that lets you create and interact with your very own characters, powered by AI. It aims to be a more Language Learning focused derivative of [SillyTavern](https://github.com/SillyTavern/SillyTavern), helping casual users practice conversation with custom characters through a user-friendly interface with tools such as sentence correction, pop-up dictionaries, and grammar checkers.

### Getting Started:
1. **Input an API Key**: Head over to the ðŸ”‘ **API Tab**  for instructions
2. **Modify your Profile**: Add your name/description at the ðŸŽ­ **Persona Tab**
3. **Create a Character**: Click the âž• on the lefthand **Selection Panel**
4. **Edit your Character**: Add traits and attributes on the righthand **Edit Panel**
5. **Start Chatting**: Select your Character and Create a New Chat
6. **Import/Export**: Share characters as PNG files with other users

### Problems?
- Join the [Discord Server](https://discord.gg/whT3mRNAGs) for instant support regarding usage and bugs.
- Visit the [GitHub Repository](https://github.com/Eliolocin/GengoTavern/releases) for updates on new versions.
- Contact head developer [@bredrumb](https://telegram.me/bredrumb) directly on Telegram.
  `;

  return (
    <div className="modal-backdrop" onClick={onClose}>
      <div className="modal-content help-modal" onClick={(e) => e.stopPropagation()}>
        <div className="modal-header">
          <div className="help-modal-title">
            <h3>Help & Information</h3>
          </div>
          <button className="close-button" onClick={onClose}>Ã—</button>
        </div>
        <div className="modal-body help-content">
          <div className="logo-container">
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFcGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuYTFjZDEyZiwgMjAyNC8xMS8xMS0xOTowODo0NiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI2LjMgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNS0wMy0xN1QxNzoyMjoyMiswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyNS0wMy0xN1QxNzoyMjoyMiswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjUtMDMtMTdUMTc6MjI6MjIrMDg6MDAiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmQxMmI2YTcxLWVjMDYtZGU0ZC1iNGUzLTMwNWY5NmJmMmFhMCIgeG1wTU06RG9jdW1lbnRJRD0i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" alt="GengoTavern" className="help-modal-logo" />
          </div>
          <MarkdownRenderer content={helpContent} processParentheses={false} />
        </div>
        <div className="modal-footer">
          <div className="startup-preference">
            <label className="hide-at-startup-label">
              <input
                type="checkbox"
                checked={hideAtStartup}
                onChange={handleHideAtStartupChange}
              />
              <span>Don't show at startup</span>
            </label>
          </div>
          <button className="confirm-button" onClick={onClose}>Close</button>
        </div>
      </div>
    </div>
  );
};

export default HelpModal;